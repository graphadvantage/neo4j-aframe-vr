<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>MDN Games: A-Frame demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <script src="https://rawgit.com/aframevr/aframe/d611e70/dist/aframe-master.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.3/dist/aframe-extras.min.js"></script>

  <!--script src="javascripts/aframe.min.js"></script-->
</head>
<body>
  <a-scene>
    <a-assets>
      <img id="boxTexture" src="https://i.imgur.com/mYmmbrp.jpg">
      <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">
      <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg">
    </a-assets>
    <a-sky height="2048" radius="30" src="#skyTexture" theta-length="90" width="2048"></a-sky>
    <a-light type="ambient" color="#445451"></a-light>
    <a-light type="point" intensity="2" position="2 4 4"></a-light>
    <a-plane src="#groundTexture" rotation="-90 0 0" height="100" width="100"></a-plane>
    <!--a-ocean color="aqua" depth="100" width="100"></a-ocean-->

    <a-text value="Hello, Nico!" color="#BBB" position="-1.1 0.2 -3" scale="2 2 2"></a-text>

    <a-camera position= "0 0 0">
        <a-cursor color="#0095DD" opacity="0.5" scale="2" ></a-cursor>
    </a-camera>

    <a-box  src="https://i.imgur.com/mYmmbrp.jpg" color="#0095DD" rotation="20 40 0" position="0 3 -5">
      <a-animation attribute="rotation" from="20 0 0" to="20 360 0" direction="alternate" dur="4000" repeat="indefinite" easing="ease"></a-animation>
    </a-box>

    <a-entity laser-controls="hand: left" line="color: red; opacity: 0.75; width: 20" raycaster="objects: .links; far: 15">
      <a-entity tracked-controls="controller: 0; idPrefix: OpenVR"></a-entity>
    </a-entity>

    <a-entity laser-controls="hand: right" line="color: red; opacity: 0.75; width: 20"  raycaster="objects: .links; far: 15">
      <a-entity tracked-controls="controller: 1; idPrefix: OpenVR"></a-entity>
    </a-entity>

    <a-entity geometry="primitive: torus; radius: 1; radiusTubular: 0.1; segmentsTubular: 36;" material="color: #FF4F00; roughness: 0.1; metalness: 0.5;" rotation="10 0 0" position="-3 3 -3">
    <a-animation attribute="scale" to="1 0.5 1" direction="alternate" dur="2000" repeat="indefinite" easing="linear"></a-animation>
    </a-entity>
  </a-scene>

  <script>
    var scene = document.querySelector('a-scene');
    var cylinder = document.createElement('a-cylinder');
    cylinder.setAttribute('color', '#FF9500');
    cylinder.setAttribute('height', '2');
    cylinder.setAttribute('radius', '0.75');
    cylinder.setAttribute('position', '3 3 -5');
    scene.appendChild(cylinder);
    var t = 0;
    function render() {
      t += 0.01;
      requestAnimationFrame(render);
      cylinder.setAttribute('position', '3 '+(Math.sin(t*2)+3)+' -5');
    }
    render();
  </script>

</body>
</html>
