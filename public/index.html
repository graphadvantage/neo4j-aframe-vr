<!doctype html>
<html lang="en">
  <head>
  <title>My A-Frame Scene</title>

  <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
  <!--script src="https://unpkg.com/aframe-forcegraph-component/dist/aframe-forcegraph-component.min.js"></script-->
  <script src="/javascripts/aframe-forcegraph-component.js"></script>
  <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.3/dist/aframe-extras.min.js"></script>

  <!--script src="https://rawgit.com/aframevr/aframe/d611e70/dist/aframe-master.min.js"></script-->

  <script>
  AFRAME.registerComponent('raycaster-intersect', {
    dependencies: ['raycaster'],
    init: function () {
      this.el.addEventListener('raycaster-intersected', function (evt) {
        evt.detail.el.setAttribute('material', 'color', 'red');
        //console.log('I was clicked on: ', evt.detail.el);
        //console.log('I was clicked at: ', evt.detail.intersection.point);
      });
    }
  });
  AFRAME.registerComponent('raycaster-cleared', {
    dependencies: ['raycaster'],
    init: function () {
      this.el.addEventListener('raycaster-intersected-cleared', function (evt) {
        evt.detail.el.setAttribute('material', 'color', 'blue');
      });
    }
  });
  </script>


</head>
<body>
  <a-scene  background="color: black" inspector="url: https://aframe.io/releases/0.3.0/aframe-inspector.min.js">
    <assets>
      <img id="skyTexture" crossorigin="anonymous" src="/assets/starmap_8k.jpg">
      <img id="skyTexture1" crossorigin="anonymous" src="/assets/starwars.png">
    </assets>
    <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
    <a-entity light="type: directional;
                 castShadow: true;
                 intensity: 0.75;
                 shadowCameraVisible: false;"
          position="-5 3 1.5"></a-entity-->

    <a-sky radius="1000" src="#skyTexture" theta-length="180" ></a-sky>

    <!--a-plane height="100" width="100" rotation="-90 0 0" position="0 -10 0" opacity="0.2" color="#CCC" material="side: double" segmentsHeight="10" segmentsWidth="10"></a-plane-->

    <a-camera
    position="0 0 0"
    universal-controls="fly: true;
                 movementEasing: 15;
                 movementAcceleration: 200;">
      <a-cursor
        position="0 0 -4"
        geometry="primitive: ring; radiusInner: 0.04; radiusOuter: 0.05"
        material="color: red; shader: flat">
      </a-cursor>
    </a-camera>

    <a-entity id ='laser-left' laser-controls="hand: left" line="color: red; opacity: 0.75;" cursor-controller raycaster="far: 100">
    </a-entity>

    <a-entity id='laser-right' laser-controls="hand: right" line="color: red; opacity: 0.75;" cursor-controller raycaster="far: 100">
    </a-entity>

    <!--a-entity class="mybox" raycaster-intersect raycaster-cleared position="0 0 -5" geometry="primitive: box" material="color: blue"></a-entity-->

    <a-entity
      class="fg" raycaster-intersect raycaster-cleared
      forcegraph="json-url: data/graph.json;
        node-label: name;
        node-desc: title;
        node-resolution: 32;
        node-color: green;
        node-auto-color-by: label;
        node-opacity: 1;
        link-label: type;
        link-width: 0.5;
        link-opacity: 0.5;
        link-resolution: 16;
        link-directional-arrow-length: 3;
        link-directional-arrow-opacity: 0.5;
        link-directional-arrow-rel-pos: 1;
        link-directional-arrow-resolution: 32;
        link-directional-particles: 3;
        link-directional-particle-color: red;">
    </a-entity>

  </a-scene>
</body>
<script>
</script>

</html>
